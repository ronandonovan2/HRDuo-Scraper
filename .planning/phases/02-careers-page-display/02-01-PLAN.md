---
phase: 02-careers-page-display
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - careers-snippet.html
autonomous: false

must_haves:
  truths:
    - "The snippet fetches jobs.json from the raw GitHub URL and renders one card per job"
    - "Each card displays title, type, description, and an Apply Now button"
    - "Clicking Apply Now opens the correct HR Duo application page for that specific role"
    - "When jobs.json contains zero jobs, the page shows 'No open roles at this time' instead of blank space"
    - "The snippet is self-contained — one HTML block with embedded CSS and JS, ready to paste into WordPress"
  artifacts:
    - path: "careers-snippet.html"
      provides: "Self-contained HTML/CSS/JS snippet that fetches jobs.json and renders job cards for the WordPress careers page"
      contains: "fetch"
  key_links:
    - from: "careers-snippet.html"
      to: "https://raw.githubusercontent.com/ronandonovan2/HRDuo-Scraper/main/data/jobs.json"
      via: "fetch() call in JavaScript"
      pattern: "fetch.*raw\\.githubusercontent\\.com.*jobs\\.json"
    - from: "careers-snippet.html"
      to: "https://my.hrduo.com/candidate-jobs/Croom_Medical/{uuid}"
      via: "Apply Now button href from job.applyUrl"
      pattern: "applyUrl"
---

<objective>
Create a self-contained HTML/CSS/JS snippet that fetches job listings from the public jobs.json URL and renders them as styled job cards. The snippet will be pasted into the WordPress careers page via the block editor (Custom HTML block or similar). Includes empty-state handling when no jobs exist.

Purpose: This is the user-facing deliverable — the bridge between the automated data pipeline (Phase 1) and the croommedical.com/careers visitor experience.
Output: A single `careers-snippet.html` file ready to paste into WordPress.
</objective>

<execution_context>
@C:/Users/ronan.donovan/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ronan.donovan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-scraper-pipeline/01-02-SUMMARY.md
@data/jobs.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build self-contained careers page snippet with fetch, card rendering, and empty state</name>
  <files>careers-snippet.html</files>
  <action>
    Create a single `careers-snippet.html` file in the project root containing a self-contained HTML block with embedded `<style>` and `<script>` tags. This file will be copy-pasted into a WordPress Custom HTML block on the careers page.

    **Data source URL:**
    `https://raw.githubusercontent.com/ronandonovan2/HRDuo-Scraper/main/data/jobs.json`

    **Data shape (from Phase 1):**
    Each job object: `{ title: string, type: string, description: string, applyUrl: string }`
    - `title`: Job title (e.g., "Senior NPI Engineer")
    - `type`: Employment type (e.g., "Permanent full-time")
    - `description`: Location + department (e.g., "Limerick — Engineering")
    - `applyUrl`: Full HR Duo URL for that specific job

    **HTML structure:**
    ```html
    <div id="croom-careers">
      <!-- Cards injected here by JavaScript -->
    </div>
    ```

    **CSS (embedded in `<style>` tag):**
    - Scope all styles under `#croom-careers` to avoid conflicts with WordPress theme
    - Card grid layout: CSS Grid, 1 column on mobile, 2 columns on tablets (min-width: 768px), 3 columns on desktop (min-width: 1024px)
    - Each card: white background, subtle border (1px solid #e0e0e0), border-radius 8px, padding 24px, box-shadow on hover for interactivity
    - Title: bold, dark color (#1a1a1a), font-size ~1.2em
    - Type: smaller text, muted color (#666), displayed as a badge/tag style (inline-block, light background #f0f0f0, border-radius, small padding)
    - Description: normal text, color #444, margin between title and button
    - Apply Now button: Croom Medical brand green (#00843D — their primary brand color, visible on their site), white text, no underline, padding 10px 24px, border-radius 4px, full-width at bottom of card, hover darkens slightly. Opens in new tab (target="_blank" with rel="noopener noreferrer")
    - Empty state: centered text, muted color, padding, "No open roles at this time — please check back soon."
    - Loading state: centered text, "Loading open positions..." while fetch is in progress
    - Error state: centered text, "Unable to load job listings. Please try again later." (in case fetch fails)
    - Use system font stack (font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif) — safe default that WordPress themes won't fight with

    **JavaScript (embedded in `<script>` tag):**
    - Wrap everything in an IIFE `(function() { ... })()` to avoid polluting global scope
    - On DOMContentLoaded:
      1. Show loading state in #croom-careers container
      2. fetch() the jobs.json URL
      3. Parse JSON response
      4. If array is empty (length === 0): render empty state message
      5. If array has jobs: render one card per job using the HTML/CSS structure above
      6. On fetch error (network failure, non-200 response): render error state message
    - Use textContent (not innerHTML) for job data to prevent XSS if data is ever compromised
    - For the Apply Now link: create an `<a>` element with href = job.applyUrl, target="_blank", rel="noopener noreferrer"
    - Build DOM elements with document.createElement (not template literals + innerHTML) for security
    - Add cache-busting query parameter to fetch URL: `?t=${Date.now()}` — ensures visitors always get the latest jobs.json, not a stale CDN cache of the raw GitHub URL

    **Testing the snippet locally:**
    - After creating the file, it should be openable directly in a browser (file:// protocol) for basic visual check
    - The fetch will work because the jobs.json URL is a public CORS-friendly raw GitHub URL

    **Do NOT include:**
    - Any WordPress PHP code — this is pure client-side HTML/CSS/JS
    - Any external CSS/JS libraries — zero dependencies
    - Any search, filter, or pagination UI — out of scope per requirements
    - Any animations or transitions beyond the subtle hover shadow
  </action>
  <verify>
    1. `careers-snippet.html` exists in project root
    2. File contains a `<style>` tag with styles scoped under `#croom-careers`
    3. File contains a `<script>` tag with fetch call to the raw GitHub jobs.json URL
    4. Open `careers-snippet.html` in a browser — it should show 4 job cards (matching current jobs.json)
    5. Each card shows: title, type badge, description, and green "Apply Now" button
    6. Clicking "Apply Now" opens the correct HR Duo URL in a new tab
    7. Responsive: resize browser to see 1/2/3 column layout
    8. Test empty state: temporarily change fetch URL to a non-existent file, reload — should show "No open roles" message
    9. Test error state: disconnect from internet, reload — should show error message
  </verify>
  <done>
    - careers-snippet.html exists with embedded CSS and JS
    - Fetches jobs.json from raw GitHub URL and renders job cards
    - Cards show title, type, description, and Apply Now button linking to HR Duo
    - Empty state displays "No open roles at this time" when array is empty
    - Error state displays fallback message on fetch failure
    - Snippet is self-contained with zero external dependencies
    - Cards are responsive (1/2/3 columns by screen width)
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify snippet on WordPress careers page</name>
  <files>careers-snippet.html</files>
  <action>
    Human verification checkpoint. The snippet has been built in Task 1. Now the user must paste it into WordPress and verify it works on the live careers page.

    What was built: A self-contained HTML/CSS/JS snippet (careers-snippet.html) that fetches job listings from the public GitHub jobs.json URL and renders them as styled cards with Apply Now buttons. The snippet is ready to be pasted into WordPress.

    How to verify:
    1. Open careers-snippet.html in your browser first to confirm it renders correctly with 4 job cards
    2. Log in to WordPress admin for croommedical.com
    3. Navigate to the Careers page editor
    4. Add a Custom HTML block (or use the existing content area where the Indeed cards are)
    5. Copy the ENTIRE contents of careers-snippet.html and paste into the Custom HTML block
    6. Preview the page (or publish to staging if available):
       a. Verify 4 job cards appear with correct titles: General Operator, Cost Accountant, Senior NPI Engineer, Senior Quality Manager (NPI)
       b. Each card shows the job type ("Permanent full-time") and description (location + department)
       c. Click each "Apply Now" button — it should open the correct HR Duo application page in a new tab
       d. Check responsive behavior: resize browser or use mobile preview
       e. Verify the styling fits reasonably with the existing WordPress theme
    7. If styling conflicts with the WordPress theme, describe what needs adjusting (font sizes, colors, spacing)
    8. If the old Indeed section is still present, note whether it should be removed or kept alongside

    Resume signal: Type "approved" if the cards render correctly and Apply Now links work. Describe any styling or layout issues if adjustments are needed.
  </action>
  <verify>User confirms job cards render correctly on WordPress careers page and Apply Now links open correct HR Duo pages</verify>
  <done>Snippet is live on croommedical.com/careers, displaying current HR Duo job listings with working Apply Now links</done>
</task>

</tasks>

<verification>
- careers-snippet.html is a valid, self-contained HTML file with embedded CSS and JS
- Fetch targets the correct URL: https://raw.githubusercontent.com/ronandonovan2/HRDuo-Scraper/main/data/jobs.json
- Each job card renders title, type, description, and Apply Now button
- Apply Now buttons link to the correct HR Duo URLs (one per job)
- Empty state handled: zero jobs shows "No open roles at this time"
- Error state handled: fetch failure shows fallback message
- No external dependencies (no CDN links, no npm packages)
- All styles scoped under #croom-careers (no WordPress theme pollution)
- JavaScript uses textContent (not innerHTML) for job data to prevent XSS
</verification>

<success_criteria>
The careers-snippet.html file, when pasted into a WordPress Custom HTML block on croommedical.com/careers, renders current HR Duo job listings as styled cards. Each card shows title, type, description, and a working Apply Now button that links to the correct HR Duo application page. When no jobs exist, visitors see "No open roles at this time" instead of empty space.
</success_criteria>

<output>
After completion, create `.planning/phases/02-careers-page-display/02-01-SUMMARY.md`
</output>
